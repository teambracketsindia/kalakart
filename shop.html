<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <link
    rel="apple-touch-icon"
    sizes="180x180"
    href="images/apple-touch-icon.png"
  />
  <link
    rel="icon"
    type="image/png"
    sizes="32x32"
    href="images/favicon-32x32.png"
  />
  <link
    rel="icon"
    type="image/png"
    sizes="16x16"
    href="images/favicon-16x16.png"
  />
  <title>
    KalaKart
  </title>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
  <link href="css/style.css" rel="stylesheet" />
  <link href="css/responsive.css" rel="stylesheet" />
</head>

<body>
  <div class="hero_area">
    <header class="header_section">
      <nav class="navbar navbar-expand-lg custom_nav-container ">
        <a class="navbar-brand" href="index.html">
          <span>
            KalaKart
          </span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class=""></span>
        </button>

        <div class="collapse navbar-collapse SupportedContent2" id="navbarSupportedContent">
          <ul class="navbar-nav  ">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="shop.html">
                Shop
              </a>
            </li>
            <li class="nav-item" id="loginOrProfile">
            </li>
          </ul>
          <div class="user_option active">

            <a href="cart.html">
              <i class="fa fa-shopping-bag" aria-hidden="true"></i>
            </a>
            <form class="form-inline ">
              <button class="btn nav_search-btn" type="submit">
                <i class="fa fa-search" aria-hidden="true"></i>
              </button>
            </form>
          </div>
        </div>
      </nav>
    </header>
  </div>

  <section class="shop_section layout_padding" style="margin-left: 150px;">
    <div class="container">
      <div class="row">
        <div class="col-md-2" style="margin-top: 5.75rem;">
          <h4 style="margin-bottom: 12px;">Filters</h4>
          <div class="category" data-category="Jewellery">
            <a href="#" class="category-link" style="color: black;">Jewellery</a>
          </div>
          <div class="category" data-category="Home Decor">
            <a href="#" class="category-link" style="color: black;">Home Decor</a>
          </div>
          <div class="category" data-category="Clothing">
            <a href="#" class="category-link" style="color: black;">Clothing</a>
          </div>
          <div class="category" data-category="Accessories">
            <a href="#" class="category-link" style="color: black;">Accessories</a>
          </div>
          <br>
          <h4 style="margin-bottom: 12px;">Sort by</h4>
          <div class="sort" data-category="Relevance">
            <a href="#" class="sort-link" style="color: black;">Relevance</a>
          </div>
          <div class="sort" data-category="High2Low">
            <a href="#" class="sort-link" style="color: black;">High to Low</a>
          </div>
          <div class="sort" data-category="Low2High">
            <a href="#" class="sort-link" style="color: black;">Low to High</a>
          </div>
        </div>

        <div style="width: 2px; background-color: darkslategray; margin: 0 15px;"></div>

        <div class="col-md-8">
          <div class="heading_container heading_center">
            <h2>Latest Products</h2>
          </div>
          <div class="row" style="margin-left: 50px;" id="product-list">
          </div>
          <div class="btn-box">
            <a href="/shop.html">View All Products</a>
          </div>
        </div>

        <script>
          document.addEventListener("DOMContentLoaded", function () {
            const products = [
              { code: "Jewellery", name: "Diamond Ring", price: "Rs. 1,09,999", image: "images/s1.png", htmlFile: "p1.html" },
              { code: "Jewellery", name: "Drippy Chain", price: "Rs. 1,999", image: "images/s2.png", htmlFile: "p2.html" },
              { code: "Jewellery", name: "Gemmed Bracelet", price: "Rs. 1,499", image: "images/s3.png", htmlFile: "p3.html" },
              { code: "Jewellery", name: "Pink Earring", price: "Rs. 199", image: "images/s4.png", htmlFile: "p4.html" },
              { code: "Jewellery", name: "Gold Earring", price: "Rs. 19,999", image: "images/s5.png", htmlFile: "p5.html" },
              { code: "Jewellery", name: "Diamond Ring", price: "Rs. 56,999", image: "images/s6.png", htmlFile: "p6.html" },
              { code: "Home Decor", name: "Blue Vase", price: "Rs. 899", image: "images/s7.png", htmlFile: "p7.html" },
              { code: "Home Decor", name: "Flower Pot", price: "Rs. 349", image: "images/s8.png", htmlFile: "p8.html" },
              { code: "Home Decor", name: "Wooden Table", price: "Rs. 2,999", image: "images/s9.png", htmlFile: "p9.html" },
              { code: "Home Decor", name: "Sofa Set", price: "Rs. 35,999", image: "images/s10.png", htmlFile: "p10.html" },
              { code: "Clothing", name: "T-shirt", price: "Rs. 899", image: "images/s11.png", htmlFile: "p11.html" },
              { code: "Clothing", name: "Heavy Jacket", price: "Rs. 2,399", image: "images/s12.png", htmlFile: "p12.html" },
              { code: "Clothing", name: "Denim Jeans", price: "Rs. 1,299", image: "images/s13.png", htmlFile: "p13.html" },
              { code: "Clothing", name: "Canvas Shoes", price: "Rs. 2,199", image: "images/s14.png", htmlFile: "p14.html" },
              { code: "Accessories", name: "Silk Tie", price: "Rs. 1,099", image: "images/s15.png", htmlFile: "p15.html" },
              { code: "Accessories", name: "Polaroid Sunglasses", price: "Rs. 1,799", image: "images/s16.png", htmlFile: "p16.html" },
              { code: "Accessories", name: "Analog Watch", price: "Rs. 4,199", image: "images/p4.png", htmlFile: "p17.html" }
            ];

            displayProducts(products);

            document.querySelectorAll(".category-link").forEach(link => {
              link.addEventListener("click", function (event) {
                event.preventDefault();
                const category = this.parentElement.getAttribute("data-category");
                const filteredProducts = products.filter(product => product.code === category);
                displayProducts(filteredProducts);
                const sectionId = category.toLowerCase().replace(" ", "-");
                document.getElementById(sectionId).scrollIntoView({ behavior: "smooth" });
              });
            });

            document.querySelectorAll(".sort-link").forEach(link => {
              link.addEventListener("click", function (event) {
                event.preventDefault();
                const sortBy = this.parentElement.getAttribute("data-category");
                let sortedProducts = [];

                if (sortBy === "Low2High") {
                  sortedProducts = products.slice().sort((a, b) => parseFloat(a.price.replace(/\D/g, "")) - parseFloat(b.price.replace(/\D/g, "")));
                } else if (sortBy === "High2Low") {
                  sortedProducts = products.slice().sort((a, b) => parseFloat(b.price.replace(/\D/g, "")) - parseFloat(a.price.replace(/\D/g, "")));
                } else if (sortBy === "Relevance") {
                  sortedProducts = products;
                }

                displayProducts(sortedProducts);
              });
            });

            function displayProducts(products) {
              const productList = document.getElementById("product-list");
              productList.innerHTML = "";
              products.forEach(product => {
                productList.innerHTML += `
                  <div class="col-sm-4 col-md-4 col-lg-5">
                    <div class="box">
                      <a href="${product.htmlFile}">
                        <div class="img-box">
                          <img src="${product.image}" alt="">
                        </div>
                        <div class="detail-box">
                          <h6>${product.name}</h6>
                          <h6><span>${product.price}</span></h6>
                        </div>
                      </a>
                    </div>
                  </div>
                `;
              });
            }
          });
        </script>
      </div>
    </div>
  </section>

  <section class="info_section  layout_padding2-top" style="border:1px; border-radius: 18px;">

    <div class="info_container box">
      <div class="container" style="text-align: center;">
        <h6>
          ABOUT US
        </h6>
        <p>
          We're a team of 3 students from MAPS-AV, namely Tanish, Khushal, Sidhant, and we've created this project for Decagon 24'
        </p>
      </div>
    </div>
    </div>
    <footer class=" footer_section">
      <div class="container">
        <p>
          &copy; <span id="displayYear"></span> All Rights Reserved By
          <a href="https://html.design/">MAPS-AV</a>
        </p>
      </div>
    </footer>
  </section>

  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="js/custom.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var loginOrProfile = document.getElementById('loginOrProfile');
      var isLoggedIn = localStorage.getItem('isLoggedIn');

      if (isLoggedIn === 'true') {
        loginOrProfile.innerHTML = `
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Profile
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="profile.html">View Profile</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="#" onclick="logout()">Logout</a>
            </div>
          </li>
        `;
      } else {
        loginOrProfile.innerHTML = '<a class="nav-link" href="login.html">Login</a>';
      }
    });

    function logout() {
      localStorage.setItem('isLoggedIn', 'false');
      window.location.href = 'index.html';
    }
  </script>
  </script>

</body>

</html>
